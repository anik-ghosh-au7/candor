{"version":3,"sources":["../../src/controller/message.controller.js"],"names":["message_controller","handle_incoming","req","res","console","log","body","User","findOneAndUpdate","username","share_username","sender","user","shared_url","context","msg_body","comments","then","result","status","send","err","module","exports"],"mappings":";;;;AAAA;;AAEA,IAAMA,kBAAkB,GAAC;AACrBC,EAAAA,eAAe,EAAC,yBAAUC,GAAV,EAAcC,GAAd,EAAmB;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBH,GAAG,CAACI,IAAvB;;AACAC,qBAAKC,gBAAL,CAAsB;AAACC,MAAAA,QAAQ,EAACP,GAAG,CAACI,IAAJ,CAASI;AAAnB,KAAtB,EAAyD;AAC7C,eAAS;AACL,oBAAY;AACRC,UAAAA,MAAM,EAACT,GAAG,CAACI,IAAJ,CAASM,IADR;AAERC,UAAAA,UAAU,EAACX,GAAG,CAACI,IAAJ,CAASQ,OAFZ;AAGRC,UAAAA,QAAQ,EAACb,GAAG,CAACI,IAAJ,CAASU;AAHV;AADP;AADoC,KAAzD,EASSC,IATT,CASc,UAACC,MAAD,EAAY;AACd,UAAGA,MAAH,EAAU;AACNd,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAF,QAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,cAArB;AACH,OAHD,MAGK;AACDjB,QAAAA,GAAG,CAACiB,IAAJ,CAAS,wBAAT;AACH;AAEJ,KAjBT,WAkBe,UAAAC,GAAG;AAAA,aAAIjB,OAAO,CAACC,GAAR,CAAYgB,GAAZ,CAAJ;AAAA,KAlBlB;AAmBH;AAtBoB,CAAzB;AAwBAC,MAAM,CAACC,OAAP,GAAevB,kBAAf","sourcesContent":["import User from '../model/user.model';\n\nconst message_controller={\n    handle_incoming:function (req,res) {\n        console.log('body',req.body);\n        User.findOneAndUpdate({username:req.body.share_username},{\n                    \"$push\": {\n                        \"messages\": {\n                            sender:req.body.user,\n                            shared_url:req.body.context,\n                            msg_body:req.body.comments\n                        }\n                    }\n                })\n                .then((result) => {\n                    if(result){\n                        console.log(\"Message saved\");\n                        res.status(200).send('Message sent')\n                    }else{\n                        res.send(\"Username Doesn't exist\")\n                    }\n\n                })\n                .catch(err => console.log(err));\n    }\n};\nmodule.exports=message_controller;\n"],"file":"message.controller.js"}
{"version":3,"sources":["../../src/utils/multer.js"],"names":["multer","require","path","memoryStorage","cloudUpload","storage","fileFilter","req","file","callback","ext","extname","originalname","res","end","single","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,IAAME,aAAa,GAAGH,MAAM,CAACG,aAAP,EAAtB;AAEA,IAAMC,WAAW,GAAGJ,MAAM,CAAC;AACvBK,EAAAA,OAAO,EAAEF,aADc;AAEvBG,EAAAA,UAAU,EAAE,oBAACC,GAAD,EAAMC,IAAN,EAAYC,QAAZ,EAAyB;AACjC,QAAIC,GAAG,GAAGR,IAAI,CAACS,OAAL,CAAaH,IAAI,CAACI,YAAlB,CAAV;;AACA,QAAIF,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,MAA1B,IAAoCA,GAAG,KAAK,MAA5C,IAAsDA,GAAG,KAAK,OAAlE,EAA2E;AACvE,aAAOD,QAAQ,CAACI,GAAG,CAACC,GAAJ,CAAQ,yBAAR,CAAD,EAAqC,IAArC,CAAf;AACH;;AACDL,IAAAA,QAAQ,CAAC,IAAD,EAAO,IAAP,CAAR;AACH;AARsB,CAAD,CAAN,CASjBM,MATiB,CASV,OATU,CAApB;AAWAC,MAAM,CAACC,OAAP,GAAiBb,WAAjB","sourcesContent":["const multer = require('multer');\nconst path = require('path');\n\nconst memoryStorage = multer.memoryStorage();\n\nconst cloudUpload = multer({\n    storage: memoryStorage,\n    fileFilter: (req, file, callback) => {\n        let ext = path.extname(file.originalname)\n        if (ext !== '.png' && ext !== '.jpg' && ext !== '.gif' && ext !== '.jpeg') {\n            return callback(res.end('Only images are allowed'), null)\n        }\n        callback(null, true);\n    }\n}).single('image');\n\nmodule.exports = cloudUpload;"],"file":"multer.js"}
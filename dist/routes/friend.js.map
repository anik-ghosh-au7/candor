{"version":3,"sources":["../../src/routes/friend.js"],"names":["dotenv","config","authenticateToken","req","res","next","token","cookies","jwt","verify","process","env","jwt_key","err","data","status","send","msg","user","name","router","express","Router","post","friend_controller","addFriend","get","respondToRequest","getAllFriends","module","exports"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACAA,mBAAOC,MAAP;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5C,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,UAAZ,CAAd;;AACA,MAAI,CAACD,KAAL,EAAY;AACVD,IAAAA,IAAI;AACL,GAFD,MAEK;AACHG,6BAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,OAA9B,EAAuC,UAACC,GAAD,EAAMC,IAAN,EAAe;AACtD,UAAID,GAAJ,EAAS,OAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,GAAG,EAAE;AAAN,OAArB,CAAP;AACTd,MAAAA,GAAG,CAACe,IAAJ,GAAWJ,IAAI,CAACK,IAAhB;AACAd,MAAAA,IAAI;AACL,KAJC;AAKD;AACF,CAXD;;AAaA,IAAMe,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,IAAP,CAAY,gBAAZ,EAA8BrB,iBAA9B,EAAiDsB,mBAAkBC,SAAnE;AAEAL,MAAM,CAACM,GAAP,CAAW,mBAAX,EAAgCxB,iBAAhC,EAAmDsB,mBAAkBG,gBAArE;AAEAP,MAAM,CAACM,GAAP,CAAW,gBAAX,EAA4BxB,iBAA5B,EAA8CsB,mBAAkBI,aAAhE;AAEAC,MAAM,CAACC,OAAP,GAAiBV,MAAjB","sourcesContent":["import express from 'express';\nimport friend_controller from '../controller/friend.controller';\nimport jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\ndotenv.config();\nconst authenticateToken = (req, res, next) => {\n  const token = req.cookies['awtToken'];\n  if (!token) {\n    next()\n  }else{\n    jwt.verify(token, process.env.jwt_key, (err, data) => {\n    if (err) return res.status(403).send({msg: 'Unauthorized Forbidden'});\n    req.user = data.name;\n    next()\n  });\n  }\n};\n\nconst router = express.Router();\nrouter.post('/friendrequest', authenticateToken, friend_controller.addFriend);\n\nrouter.get('/respondtorequest', authenticateToken, friend_controller.respondToRequest);\n\nrouter.get('/getallfriends',authenticateToken,friend_controller.getAllFriends);\n\nmodule.exports = router;\n"],"file":"friend.js"}